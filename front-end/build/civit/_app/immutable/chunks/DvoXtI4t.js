import{i as u,p,j as f,A as g,k as _,a as U,b as C,g as I,z as j}from"./A87knhio.js";import{c as h,a as k}from"./CRYWLkmp.js";import{I as w,s as v,c as R}from"./B2uCjd4x.js";import{s as $,r as m}from"./DhQ2rXsO.js";typeof window<"u"&&new URL(window.location.href).port;let y="";y="/civit";class x{static endpoint=y;static user_data(t){return`${this.endpoint}/user_data?token=${t}`}static infinite_images(t,e){return`${this.endpoint}/infinite_images?${e}&token=${t}`}static popular_tags(t){return`${this.endpoint}/tags_with_id?&token=${t}`}static media_data(t,e,o){return`${this.endpoint}/media_data/${o}/${e}?&token=${t}`}static get_collections(t){return`${this.endpoint}/get_collections?&token=${t}`}static get_collections_by_media_type(t,e){return`${this.endpoint}/get_collections_by_media?&token=${t}&media_type=${e}`}static update_media_collections(t,e,o,s){return`${this.endpoint}/update_collections/${e}?&token=${t}&add=${o.join(",")}&remove=${s.join(",")}`}static collections_with_media(t,e){return`${this.endpoint}/collection_with_media/${e}?&token=${t}`}static favorite_media(t,e){return`${this.endpoint}/favorite_media/${e}?token=${t}`}static unfavorite_media(t,e){return`${this.endpoint}/unfavorite_media/${e}?token=${t}`}static get_base_models(t){return`${this.endpoint}/base_models_list?token=${t}`}static get_tools(t){return`${this.endpoint}/get_tools_list?token=${t}`}static get_techniques(t){return`${this.endpoint}/get_techniques_list?token=${t}`}}const c=u({}),a=u({loading:!0,error:""}),d=u({token:""}),E=()=>{d.token="";for(const n in c)delete c[n];l("user_token","",0)},L=async n=>{a.loading=!0,a.error="",d.token="";let t=await fetch(x.user_data(n));if(a.loading=!1,t.status!=200){a.error="Token is not valid",l("user_token",n,-3);return}let e=await t.json();d.token=n;for(const o of Object.keys(e))c[o]=e[o];l("user_token",n,61),window.dispatchEvent(new CustomEvent("FinishloadingUser"))};function l(n,t,e=7){const o=new Date(Date.now()+e*24*60*60*1e3).toUTCString();document.cookie=`${encodeURIComponent(n)}=${encodeURIComponent(t)}; expires=${o}; path=/`}function q(n){const t=encodeURIComponent(n)+"=",e=document.cookie.split(";");for(let o of e)if(o=o.trim(),o.startsWith(t))return decodeURIComponent(o.substring(t.length));return null}function z(n,t){p(t,!0);let e=m(t,["$$slots","$$events","$$legacy"]);const o=[["path",{d:"M12 17V3"}],["path",{d:"m6 11 6 6 6-6"}],["path",{d:"M19 21H5"}]];w(n,$({name:"arrow-down-to-line"},()=>e,{get iconNode(){return o},children:(s,b)=>{var i=h(),r=f(i);v(r,()=>t.children??g),k(s,i)},$$slots:{default:!0}})),_()}function A(n,t){p(t,!0);let e=m(t,["$$slots","$$events","$$legacy"]);const o=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];w(n,$({name:"loader-circle"},()=>e,{get iconNode(){return o},children:(s,b)=>{var i=h(),r=f(i);v(r,()=>t.children??g),k(s,i)},$$slots:{default:!0}})),_()}function D(n){U(()=>C(()=>n()))}function T(n,t){p(t,!0);let e=m(t,["$$slots","$$events","$$legacy","class"]);{let o=j(()=>R("size-4 animate-spin",t.class));A(n,$({role:"status","aria-label":"Loading",get class(){return I(o)}},()=>e))}_()}export{x as A,T as S,z as a,L as b,c,E as d,q as g,a as l,D as o,d as u};
